#!/bin/sh

VGA=$(xrandr | grep "VGA1 disconnected")

if [ -z "$VGA" ]
then
    xrandr --output VGA1 --auto --primary
    xrandr --output LVDS1 --off
    bspc monitor -n VGA1
    bspc monitor -f VGA1
    bspc monitor -d I II III IV V VI VII VIII IX
else
    bspc monitor -n LVDS-1 -d I II III IV V VI VII VIII IX
fi

xsetroot -solid '#282828'
unclutter -idle 1 -jitter 2 -root &

if [ "$(hostname)" = "nehalem" ]; then
    # Load thinkpad metal config
    sxhkd &
    setxkbmap de
fi

bspc config border_width            2
bspc config focused_border_color    "#f9f8f5"
bspc config normal_border_color     "#272822"
bspc config presel_feedback_color   "#f9f8f5"
bspc config window_gap              10
bspc config split_ratio             0.5
bspc config borderless_monocle      true
bspc config gapless_monocle         true
bspc config focus_follows_pointer   true
